r.cube.rb.1803[ cube.symbol = "SP",]
r.cube.rb.1803[ "SP",]
r.cube.rb.1803[ cube.type=="SP", ]
install.packages("devtools")
library(dev)
library(devtools)
install_github()sp.rb<- r.cube.rb.1803[cube.type=="SP"]
install_github("XiaomoWu/R-play/03-Packages/utilr")
library(utilr)
ld(r.cube.rb.1803)
ld(r.cube.rb.1803, T)
getwd()
ld(r.cube.rb.1803, T)
getwd()
ld(r.cube.rb.1803, T)
sp.rb<- r.cube.rb.1803[cube.type=="SP"]
rm(r.cube.rb.1803)
sp.ret <- r.cube.ret[cube.type == "SP"]
rm(r.cube.ret)
sp.rb[, issale :=ifelse((target.weight-prev.target.weight<0), 1, 0)]
sp.rb[, issale =ifelse((target.weight-prev.target.weight<0), 1, 0)]
sp.rb[, issale :=ifelse((target.weight-prev.target.weight<0), 1, 0)]
View(fillna)
sp.rb[, fillna(target.weight)][, issale :=ifelse((target.weight-prev.target.weight<0), 1, 0)]
sp.rb[, fillna(target.weight)]
sp.rb[, fillna(target.weight)][, fillna(pre.target.weight)]
sp.rb[, fillna(target.weight)][, fillna(pre.weight.adjusted)]
sp.rb[, fillna(pre.weight.adjusted)]
sp.rb[, fillna(prev.weight.adjusted)]
sp.rb[, issale :=ifelse((target.weight-prev.weight.adjusted<0), 1, 0)]
rm(sp.ret)
ld(r.cube.rb.1803, T)
sp.rb <- r.cube.rb.1803[cube.type == "SP"]
rm(r.cube.rb.1803)
sp.rb[, issale := ifelse((target.weight - prev.weight.adjusted < 0), 1, 0)]
sp.rb[.(id), .(stock.name), .(stock.symbol), .(price), .(target.weight), .(proactive), .(prev.weight.adjusted), .(cube.symbol), .(cube.type), .(created.at), .(issale)]
sp.rb[.(id), .(stock.name), .(stock.symbol), .(price), .(target.weight), .(proactive), .(prev.weight.adjusted), .(cube.symbol), .(cube.type), .(created.at), .(issale)]
sp.rb[, .(id, stock.name, stock.symbol, price, target.weight, proactive, prev.weight.adjusted, cube.symbol, cube.type, created.at, issale)]
sp.rb <- sp.rb[, .(id, stock.name, stock.symbol, price, target.weight, proactive, prev.weight.adjusted, cube.symbol, cube.type, created.at, issale)]
ld(r.cube.rb.1803, T) sp.rb <- r.cube.rb.1803[cube.type == "SP"][     , issale := ifelse((target.weight< prev.weight.adjusted), 1, 0)] rm(r.cube.rb.1803) sp.rb <- sp.rb[, .(id, stock.name, stock.symbol, price, target.weight, proactive, prev.weight.adjusted, cube.symbol, cube.type, created.at, issale)][     order(stock.symbol, created.at)]
